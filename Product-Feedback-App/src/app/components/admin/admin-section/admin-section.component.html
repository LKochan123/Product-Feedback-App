<ng-container *ngIf="(users$ | async) as users; else loading">
    <p class="text-dark-blue">Users: {{ users.occurance }}</p>
    <div 
        *ngFor="let user of users.users"
        class="bg-white text-dark-blue p-3 my-3 text-sm rounded-lg">
        <div class="sm:flex sm:flex-row sm:justify-between sm:items-center">
            <div class="mb-2 sm:mb-0">
                <p>{{ user.username }}</p>
                <p>{{ user.email }}</p>
                <p>{{ user._id }}</p>
            </div>
            <div>
                <button
                    *ngIf="section === 'ACTIVE'"
                    (click)="onBanUser(user._id)" 
                    type="button" 
                    class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-400 transition-colors">
                    Ban user
                </button>
                <button
                    *ngIf="section === 'BANNED'"
                    (click)="onUnbanUser(user._id)" 
                    type="button"
                    class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-400 transition-colors">
                    Unban user
                </button>
            </div>
        </div>
    </div>  
</ng-container>
<ng-template #loading>
    <mat-spinner></mat-spinner>
</ng-template>
