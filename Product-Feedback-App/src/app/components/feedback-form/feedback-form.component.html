<form *ngIf="!isLoading" [formGroup]="feedbackForm" (submit)="onSubmit()">
    <h2
        class="text-dark-blue text-base md:text-lg py-3 font-semibold">
        {{ !fMode.isEditingPost ? 'Create New Feedback' : headingName }}
    </h2>

    <div class="py-3">
        <h3 class="text-dark-blue text-sm font-medium">Feedback Title</h3>
        <label for="title" class="text-gray text-xs">Add a short, descriptive headline</label>
        <input
            formControlName="title" 
            type="text" 
            id="title" 
            class="bg-body w-full text-sm p-3 mt-3 rounded-lg outline-blue">
    </div>

    <div class="py-3">
        <h3 class="text-dark-blue text-sm font-medium">Category</h3>
        <label for="category" class="text-gray text-xs">Choose a category, for your feedback</label>
        <select 
            formControlName="category"
            id="category" 
            class="select-arrow
            bg-body w-full text-sm p-3 mt-3 rounded-lg outline-blue"
            >
            <option *ngFor="let category of categoryOptions" [value]="category">
                {{ category }}
            </option>
        </select>
    </div>

    <div *ngIf="fMode.isEditingPost" class="py-3">
        <h3 class="text-dark-blue text-sm font-medium">Update Status</h3>
        <label for="status" class="text-gray text-xs">Change Feature State</label>
        <select
            formControlName="status" 
            id="status"
            class="select-arrow 
            bg-body text-sm w-full p-3 mt-3 rounded-lg outline-blue"
            >
            <option *ngFor="let status of statusOptions" [value]="status">
                {{ status }}
            </option>
        </select>
    </div>

    <div class="py-3">
        <h3 class="text-dark-blue text-sm font-medium">Feedback Detail</h3>
        <label for="detail" class="text-gray text-xs">
            Include any specific comments on what 
            should be improved, added, etc.
        </label>
        <textarea
            formControlName="detail" 
            id="detail" 
            class="
            bg-body w-full text-sm p-3 mt-3 rounded-lg 
            min-h-[80px] h-24 max-h-60 outline-blue">
        </textarea>
    </div>

    <div class="
        sm:relative
        flex flex-col sm:flex-row-reverse sm:justify-start 
        w-full py-3 mt-4 text-white">
        <button
            type="submit" 
            class="
            bg-purple text-sm p-3 sm:px-6 rounded-xl">
            {{ !fMode.isEditingPost ? 'Add Feedback' : 'Save Changes' }}
        </button>
        <button
            routerLink="/" 
            type="button" 
            class="bg-dark-blue text-sm  p-3 sm:px-6 my-2 sm:my-0 sm:mr-2 rounded-xl">
            Cancel
        </button>
        <button
            type="button"  
            *ngIf="fMode.isEditingPost"
            (click)="onDelete(fMode.id)" 
            class="bg-red-500 text-sm p-3 sm:px-6 sm:absolute sm:left-0 rounded-xl">
            Delete
        </button>
    </div>
</form>

<mat-spinner *ngIf="isLoading"></mat-spinner>